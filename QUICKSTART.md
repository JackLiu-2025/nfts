# NFT Marketplace 快速入门指南

## 🎉 当前状态

✅ **智能合约已部署到本地Hardhat网络**
- 合约地址: `0x5FbDB2315678afecb367f032d93F642f64180aa3`
- 网络: Hardhat Local (Chain ID: 1337)
- RPC: http://localhost:8545

✅ **前端已集成Web3功能**
- 钱包连接
- 合约交互
- IPFS存储（模拟）

✅ **服务正在运行**
- Hardhat节点: http://localhost:8545
- 前端应用: http://localhost:5174

## 🚀 立即开始

### 1. 配置MetaMask

#### 添加Hardhat本地网络

1. 打开MetaMask扩展
2. 点击顶部的网络下拉菜单
3. 点击"添加网络"
4. 点击"手动添加网络"
5. 填入以下信息：
   - **网络名称**: `Hardhat Local`
   - **RPC URL**: `http://localhost:8545`
   - **Chain ID**: `1337`
   - **货币符号**: `ETH`
6. 点击"保存"

#### 导入测试账户

Hardhat提供了20个测试账户，每个账户有10000 ETH。

**推荐使用账户 #0**:
- 地址: `0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266`
- 私钥: `0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80`

**导入步骤**:
1. 打开MetaMask
2. 点击右上角的账户图标
3. 选择"导入账户"
4. 选择类型: "私钥"
5. 粘贴私钥: `0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80`
6. 点击"导入"

**更多测试账户**:
- 账户 #1: `0x70997970C51812dc3A010C7d01b50e0d17dc79C8`
  - 私钥: `0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d`
- 账户 #2: `0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC`
  - 私钥: `0x5de4111afa1a4b94908f83103eb1f1706367c2e68ca870fc3fb9a804cdab365a`

### 2. 连接钱包

1. 打开浏览器访问: http://localhost:5174
2. 点击右上角的"连接钱包"按钮
3. MetaMask会弹出连接请求
4. 确认连接
5. 确保MetaMask选择了"Hardhat Local"网络
6. 连接成功后，你会看到账户地址和余额（10000 ETH）

### 3. 测试功能

现在你可以测试所有功能了！

#### 铸造NFT
1. 点击导航栏的"铸造"
2. 上传图片（支持JPG, PNG, GIF, WEBP）
3. 填写NFT信息：
   - 名称
   - 描述
   - 分类
   - 版税（0-10%）
4. 点击"铸造NFT"
5. MetaMask会弹出交易确认
6. 确认交易
7. 等待交易完成（本地网络很快）
8. 铸造成功！

#### 浏览市场
1. 点击导航栏的"市场"
2. 查看所有NFT
3. 使用筛选和排序功能
4. 点击NFT卡片查看详情

#### 购买NFT
1. 在市场页面找到一个在售的NFT
2. 点击进入详情页
3. 点击"购买"按钮
4. 确认交易
5. 购买成功！

#### 挂单出售
1. 进入"个人中心"
2. 选择"我创作的"或"我收藏的"标签
3. 找到你拥有的NFT
4. 点击进入详情页
5. 点击"挂单出售"
6. 输入价格
7. 确认交易
8. 挂单成功！

#### 取消挂单
1. 进入你挂单的NFT详情页
2. 点击"取消挂单"
3. 确认交易
4. 取消成功！

#### 销毁NFT
1. 进入你拥有的NFT详情页
2. 点击"销毁"按钮
3. 确认操作
4. 确认交易
5. NFT已销毁

## 📝 重要提示

### 关于测试数据
- 当前前端仍然显示mock数据
- 下一步需要将前端页面连接到真实合约
- 铸造、购买等操作会调用真实合约

### 关于IPFS
- 当前使用模拟的IPFS URL
- 如需真实IPFS存储，需要配置Pinata API密钥
- 配置方法见 `frontend/WEB3_INTEGRATION.md`

### 关于网络
- 本地Hardhat网络数据在重启后会丢失
- 如需持久化，可以部署到测试网（Polygon Amoy）
- 测试网需要获取测试代币

### 关于Gas费用
- 本地网络: 免费，无限ETH
- 测试网: 需要测试代币
- 主网: 需要真实代币

## 🔧 故障排除

### MetaMask连接失败
**问题**: 点击连接钱包没有反应
**解决**:
1. 确保MetaMask已安装
2. 刷新页面
3. 检查MetaMask是否已解锁
4. 尝试手动切换到Hardhat Local网络

### 交易失败
**问题**: 交易被拒绝或失败
**解决**:
1. 检查账户余额是否足够
2. 确保Hardhat节点正在运行
3. 检查浏览器控制台的错误信息
4. 尝试重启Hardhat节点

### 网络错误
**问题**: 无法连接到合约
**解决**:
1. 确保Hardhat节点在 http://localhost:8545 运行
2. 检查MetaMask网络配置
3. 尝试重新连接钱包
4. 检查防火墙设置

### 余额显示为0
**问题**: 连接后余额显示0 ETH
**解决**:
1. 确保导入了正确的测试账户
2. 确保选择了Hardhat Local网络
3. 尝试刷新页面
4. 检查Hardhat节点是否正常运行

## 📚 下一步

1. **集成真实数据** - 将前端页面连接到合约，显示真实的NFT数据
2. **配置IPFS** - 设置Pinata API实现真实的文件存储
3. **开发后端** - 创建FastAPI服务索引和缓存合约数据
4. **部署测试网** - 获取测试代币后部署到Polygon Amoy
5. **添加更多功能** - 搜索、筛选、推荐等

## 🎯 相关文档

- 详细集成文档: `frontend/WEB3_INTEGRATION.md`
- 合约部署指南: `contracts/DEPLOYMENT_GUIDE.md`
- 合约README: `contracts/README.md`
- 前端测试文档: `frontend/TESTING.md`

## 💡 提示

- 使用不同的测试账户来测试买卖功能
- 本地网络交易确认很快（几乎即时）
- 可以在浏览器控制台查看详细的交易信息
- MetaMask会记录所有交易历史

祝你使用愉快！🚀
